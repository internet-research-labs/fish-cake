<!doctype html>
<html lang="en">
  <head>
    <title>real quick -- okay</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="grass.business ¯\_(ツ)_/¯">
    <meta property="og:site_name" content="grass.business">
    <meta property="og:description" content="I would describe it as a patch of digital grass.">
    <meta property="og:url" content="http://grass.business/">
    <meta property="og:image" content="http://grass.business/snap.png">
    <meta property="og:image:width" content="350">
    <meta property="og:image:height" content="350">
    <meta property="og:type" content="music.song">
    <meta property="music:duration" content="420">
    <meta property="music:album" content="grass">
    <meta property="music:album:disc" content="420">
    <meta property="music:album:track" content="69">
    <style>
      html, body {
        padding: 0;
        margin: 0;
        font-family: sans-serif;
      }
      body {
        /* background-color: rgb(0, 0, 33); */
      }
      #you-know {
        margin: 0;
        padding: 0;
        width: 100%;
      }

      #controls {
        background-color: rgb(33, 33, 33, 0.1);
        padding: 10px;
        position: fixed;
        top: 10px;
        right: 10px;
      }
    </style>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/92/three.js"></script> -->
    <script src="/static/vendor/three.js"></script>
    <script src="/static/js/fish-cake.min.js"></script>
  </head>
  <body>


    <canvas width="800" height="400" id="you-know"></canvas>
    <div id="controls">
      <table>
        <tr>
          <td>attraction</td>
          <td><input type="range" value="0.0001" min="0.0" max="0.001" step="0.00001" id="swarm-attraction" onchange="matchFormValues()"></input></td>
          <td><input value="00" size="8" id="swarm-attraction-val"></input></td>
        </tr>
          <td>repulsion</td>
          <td><input type="range" value="0.0001" min="0.0" max="0.001" step="0.00001" id="swarm-repulsion" onchange="matchFormValues()"></input></td>
          <td><input value="00" size="8" id="swarm-repulsion-val"></input></td>
        </tr>
          <td>alignment</td>
          <td><input type="range" value="0.0001" min="0.0" max="1.0" step="0.01" id="swarm-alignment" onchange="matchFormValues()"></input></td>
          <td><input value="00" size="8" id="swarm-alignment-val"></input></td>
        </tr>
      </table>
    </div>
    <script>
      svv.svvarm("you-know");
      function get(id) {
        return typeof(id) == "string" ? document.getElementById(id) : id;
      }
      function getValue(id) {
        return get(id).value;
      }
      function matchValues(src, dst) {
        src = get(src);
        dst = get(dst);
        dst.value = src.value;
      }
      function matchFormValues() {
        var x = ["attraction", "repulsion", "alignment"];
        x.forEach(function (v) {
          matchValues("swarm-"+v, "swarm-"+v+"-val");
        });
        try {
          svv.updateSwarm(
            getValue("swarm-attraction"),
            getValue("swarm-repulsion"),
            getValue("swarm-alignment"),
          );
        } catch (e) {
          console.error("wiff");
        }
      }

      matchFormValues();
    </script>
  </body>
</html>
